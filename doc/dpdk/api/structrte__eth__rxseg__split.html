<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: rte_eth_rxseg_split Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">23.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">rte_eth_rxseg_split Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="rte__ethdev_8h_source.html">rte_ethdev.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a9f6b27bed19dd1bf3cff6af57d7cf86f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__eth__rxseg__split.html#a9f6b27bed19dd1bf3cff6af57d7cf86f">mp</a></td></tr>
<tr class="separator:a9f6b27bed19dd1bf3cff6af57d7cf86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1892eba2086d12ac2b09005aeb09ea3b"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__eth__rxseg__split.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a></td></tr>
<tr class="separator:a1892eba2086d12ac2b09005aeb09ea3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac681806181c80437cfab37335f62ff39"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__eth__rxseg__split.html#ac681806181c80437cfab37335f62ff39">offset</a></td></tr>
<tr class="separator:ac681806181c80437cfab37335f62ff39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a5c6669497c6f273b3d2504769b45a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__eth__rxseg__split.html#ac7a5c6669497c6f273b3d2504769b45a">proto_hdr</a></td></tr>
<tr class="separator:ac7a5c6669497c6f273b3d2504769b45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this structure may change without prior notice.</dd></dl>
<p>A structure used to configure an Rx packet segment to split.</p>
<p>If RTE_ETH_RX_OFFLOAD_BUFFER_SPLIT flag is set in offloads field, the PMD will split the received packets into multiple segments according to the specification in the description array:</p>
<ul>
<li>The first network buffer will be allocated from the memory pool, specified in the first array element, the second buffer, from the pool in the second element, and so on.</li>
<li>The proto_hdrs in the elements define the split position of received packets.</li>
<li>The offsets from the segment description elements specify the data offset from the buffer beginning except the first mbuf. The first segment offset is added with RTE_PKTMBUF_HEADROOM.</li>
<li>The lengths in the elements define the maximal data amount being received to each segment. The receiving starts with filling up the first mbuf data buffer up to specified length. If the there are data remaining (packet is longer than buffer in the first mbuf) the following data will be pushed to the next segment up to its own length, and so on.</li>
<li>If the length in the segment description element is zero the actual buffer size will be deduced from the appropriate memory pool properties.</li>
<li>If there is not enough elements to describe the buffer for entire packet of maximal length the following parameters will be used for the all remaining segments:<ul>
<li>pool from the last valid element</li>
<li>the buffer size from this pool</li>
<li>zero offset</li>
</ul>
</li>
<li>Length based buffer split:<ul>
<li>mp, length, offset should be configured.</li>
<li>The proto_hdr field must be 0.</li>
</ul>
</li>
<li>Protocol header based buffer split:<ul>
<li>mp, offset, proto_hdr should be configured.</li>
<li>The length field must be 0.</li>
<li>The proto_hdr field in the last segment should be 0.</li>
</ul>
</li>
<li>When protocol header split is enabled, NIC may receive packets which do not match all the protocol headers within the Rx segments. At this point, NIC will have two possible split behaviors according to matching results, one is exact match, another is longest match. The split result of NIC must belong to one of them. The exact match means NIC only do split when the packets exactly match all the protocol headers in the segments. Otherwise, the whole packet will be put into the last valid mempool. The longest match means NIC will do split until packets mismatch the protocol header in the segments. The rest will be put into the last valid pool. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="rte__ethdev_8h_source.html#l01076">1076</a> of file <a class="el" href="rte__ethdev_8h_source.html">rte_ethdev.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a9f6b27bed19dd1bf3cff6af57d7cf86f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6b27bed19dd1bf3cff6af57d7cf86f">&#9670;&nbsp;</a></span>mp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__mempool.html">rte_mempool</a>* mp</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Memory pool to allocate segment from. </p>

<p class="definition">Definition at line <a class="el" href="rte__ethdev_8h_source.html#l01077">1077</a> of file <a class="el" href="rte__ethdev_8h_source.html">rte_ethdev.h</a>.</p>

</div>
</div>
<a id="a1892eba2086d12ac2b09005aeb09ea3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1892eba2086d12ac2b09005aeb09ea3b">&#9670;&nbsp;</a></span>length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t length</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Segment data length, configures split point. </p>

<p class="definition">Definition at line <a class="el" href="rte__ethdev_8h_source.html#l01078">1078</a> of file <a class="el" href="rte__ethdev_8h_source.html">rte_ethdev.h</a>.</p>

</div>
</div>
<a id="ac681806181c80437cfab37335f62ff39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac681806181c80437cfab37335f62ff39">&#9670;&nbsp;</a></span>offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t offset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Data offset from beginning of mbuf data buffer. </p>

<p class="definition">Definition at line <a class="el" href="rte__ethdev_8h_source.html#l01079">1079</a> of file <a class="el" href="rte__ethdev_8h_source.html">rte_ethdev.h</a>.</p>

</div>
</div>
<a id="ac7a5c6669497c6f273b3d2504769b45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7a5c6669497c6f273b3d2504769b45a">&#9670;&nbsp;</a></span>proto_hdr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t proto_hdr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>proto_hdr defines a bit mask of the protocol sequence as RTE_PTYPE_*. The last RTE_PTYPE* in the mask indicates the split position.</p>
<p>If one protocol header is defined to split packets into two segments, for non-tunneling packets, the complete protocol sequence should be defined. For tunneling packets, for simplicity, only the tunnel and inner part of complete protocol sequence is required. If several protocol headers are defined to split packets into multi-segments, the repeated parts of adjacent segments should be omitted. </p>

<p class="definition">Definition at line <a class="el" href="rte__ethdev_8h_source.html#l01091">1091</a> of file <a class="el" href="rte__ethdev_8h_source.html">rte_ethdev.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>lib/ethdev/<a class="el" href="rte__ethdev_8h_source.html">rte_ethdev.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
