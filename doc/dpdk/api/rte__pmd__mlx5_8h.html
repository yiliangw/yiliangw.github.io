<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: drivers/net/mlx5/rte_pmd_mlx5.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">23.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_14bc92f4b96c8519b376567118ac28b3.html">drivers</a></li><li class="navelem"><a class="el" href="dir_9f54a0e5c0accd58ed9d59aeb0a494b6.html">net</a></li><li class="navelem"><a class="el" href="dir_dfa0f50067f3bec97f3280411bf8787b.html">mlx5</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_pmd_mlx5.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;rte_compat.h&gt;</code><br />
</div>
<p><a href="rte__pmd__mlx5_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac069c1f8441e225bbbcbd925c85808b6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#ac069c1f8441e225bbbcbd925c85808b6">RTE_PMD_MLX5_DOMAIN_BIT_NIC_RX</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:ac069c1f8441e225bbbcbd925c85808b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7788323767882662afe1c31e24d6f4b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a7788323767882662afe1c31e24d6f4b3">RTE_PMD_MLX5_DOMAIN_BIT_NIC_TX</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:a7788323767882662afe1c31e24d6f4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9dadb6d3328ca7cb77f94adde09dac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a2c9dadb6d3328ca7cb77f94adde09dac">RTE_PMD_MLX5_DOMAIN_BIT_FDB</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr class="separator:a2c9dadb6d3328ca7cb77f94adde09dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756ebfcc5ed7d2b98504463c39487d63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a756ebfcc5ed7d2b98504463c39487d63">RTE_PMD_MLX5_EXTERNAL_RX_QUEUE_ID_MIN</a>&#160;&#160;&#160;(UINT16_MAX - 1000 + 1)</td></tr>
<tr class="separator:a756ebfcc5ed7d2b98504463c39487d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766d6211dde57f025bdcfb0c1c891bb5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a766d6211dde57f025bdcfb0c1c891bb5">RTE_PMD_MLX5_LINEAR_HASH_TAG_INDEX</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:a766d6211dde57f025bdcfb0c1c891bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74463c04986ce8b2dc2bcef5e744add6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a74463c04986ce8b2dc2bcef5e744add6">RTE_PMD_MLX5_HOST_SHAPER_FLAG_AVAIL_THRESH_TRIGGERED</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a74463c04986ce8b2dc2bcef5e744add6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7ee20b91b612c6e9b572a3116e9540"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a8e7ee20b91b612c6e9b572a3116e9540">RTE_PMD_MLX5_FLOW_ENGINE_FLAG_STANDBY_DUP_INGRESS</a>&#160;&#160;&#160;<a class="el" href="rte__bitops_8h.html#a37f9af72fe78df9da448d9ded7b051c0">RTE_BIT32</a>(0)</td></tr>
<tr class="separator:a8e7ee20b91b612c6e9b572a3116e9540"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ade7773d3c7ea449f061219af84cb8b37"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#ade7773d3c7ea449f061219af84cb8b37">rte_pmd_mlx5_get_dyn_flag_names</a> (char *names[], unsigned int n)</td></tr>
<tr class="separator:ade7773d3c7ea449f061219af84cb8b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35ef883769ddd336c318d55eabb40a0"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#aa35ef883769ddd336c318d55eabb40a0">rte_pmd_mlx5_sync_flow</a> (uint16_t port_id, uint32_t domains)</td></tr>
<tr class="separator:aa35ef883769ddd336c318d55eabb40a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e4f26b4c650dfb184c42a9b2b4ab39"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a35e4f26b4c650dfb184c42a9b2b4ab39">rte_pmd_mlx5_external_rx_queue_id_map</a> (uint16_t port_id, uint16_t dpdk_idx, uint32_t hw_idx)</td></tr>
<tr class="separator:a35e4f26b4c650dfb184c42a9b2b4ab39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14a92bda6f1086b9d7053d565b12970f"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a14a92bda6f1086b9d7053d565b12970f">rte_pmd_mlx5_external_rx_queue_id_unmap</a> (uint16_t port_id, uint16_t dpdk_idx)</td></tr>
<tr class="separator:a14a92bda6f1086b9d7053d565b12970f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248b5684e5a345d3ecad1baa7bfa2d7f"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a248b5684e5a345d3ecad1baa7bfa2d7f">rte_pmd_mlx5_host_shaper_config</a> (int port_id, uint8_t rate, uint32_t flags)</td></tr>
<tr class="separator:a248b5684e5a345d3ecad1baa7bfa2d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6aeb815e50ba8d10ab8d4124306c622"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#ac6aeb815e50ba8d10ab8d4124306c622">rte_pmd_mlx5_external_sq_enable</a> (uint16_t port_id, uint32_t sq_num)</td></tr>
<tr class="separator:ac6aeb815e50ba8d10ab8d4124306c622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114cc1f8e678dd00fd07fe1757da94ed"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__pmd__mlx5_8h.html#a114cc1f8e678dd00fd07fe1757da94ed">rte_pmd_mlx5_flow_engine_set_mode</a> (enum rte_pmd_mlx5_flow_engine_mode mode, uint32_t flags)</td></tr>
<tr class="separator:a114cc1f8e678dd00fd07fe1757da94ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MLX5 public header.</p>
<p>This interface provides the ability to support private PMD dynamic flags. </p>

<p class="definition">Definition in file <a class="el" href="rte__pmd__mlx5_8h_source.html">rte_pmd_mlx5.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ac069c1f8441e225bbbcbd925c85808b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac069c1f8441e225bbbcbd925c85808b6">&#9670;&nbsp;</a></span>RTE_PMD_MLX5_DOMAIN_BIT_NIC_RX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_PMD_MLX5_DOMAIN_BIT_NIC_RX&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NIC RX domain bit mask. </p>

<p class="definition">Definition at line <a class="el" href="rte__pmd__mlx5_8h_source.html#l00041">41</a> of file <a class="el" href="rte__pmd__mlx5_8h_source.html">rte_pmd_mlx5.h</a>.</p>

</div>
</div>
<a id="a7788323767882662afe1c31e24d6f4b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7788323767882662afe1c31e24d6f4b3">&#9670;&nbsp;</a></span>RTE_PMD_MLX5_DOMAIN_BIT_NIC_TX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_PMD_MLX5_DOMAIN_BIT_NIC_TX&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>NIC TX domain bit mask. </p>

<p class="definition">Definition at line <a class="el" href="rte__pmd__mlx5_8h_source.html#l00042">42</a> of file <a class="el" href="rte__pmd__mlx5_8h_source.html">rte_pmd_mlx5.h</a>.</p>

</div>
</div>
<a id="a2c9dadb6d3328ca7cb77f94adde09dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9dadb6d3328ca7cb77f94adde09dac">&#9670;&nbsp;</a></span>RTE_PMD_MLX5_DOMAIN_BIT_FDB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_PMD_MLX5_DOMAIN_BIT_FDB&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>FDB (TX + RX) domain bit mask. </p>

<p class="definition">Definition at line <a class="el" href="rte__pmd__mlx5_8h_source.html#l00043">43</a> of file <a class="el" href="rte__pmd__mlx5_8h_source.html">rte_pmd_mlx5.h</a>.</p>

</div>
</div>
<a id="a756ebfcc5ed7d2b98504463c39487d63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a756ebfcc5ed7d2b98504463c39487d63">&#9670;&nbsp;</a></span>RTE_PMD_MLX5_EXTERNAL_RX_QUEUE_ID_MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_PMD_MLX5_EXTERNAL_RX_QUEUE_ID_MIN&#160;&#160;&#160;(UINT16_MAX - 1000 + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>External Rx queue rte_flow index minimal value. </p>

<p class="definition">Definition at line <a class="el" href="rte__pmd__mlx5_8h_source.html#l00069">69</a> of file <a class="el" href="rte__pmd__mlx5_8h_source.html">rte_pmd_mlx5.h</a>.</p>

</div>
</div>
<a id="a766d6211dde57f025bdcfb0c1c891bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766d6211dde57f025bdcfb0c1c891bb5">&#9670;&nbsp;</a></span>RTE_PMD_MLX5_LINEAR_HASH_TAG_INDEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_PMD_MLX5_LINEAR_HASH_TAG_INDEX&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tag level to set the linear hash index. </p>

<p class="definition">Definition at line <a class="el" href="rte__pmd__mlx5_8h_source.html#l00074">74</a> of file <a class="el" href="rte__pmd__mlx5_8h_source.html">rte_pmd_mlx5.h</a>.</p>

</div>
</div>
<a id="a74463c04986ce8b2dc2bcef5e744add6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74463c04986ce8b2dc2bcef5e744add6">&#9670;&nbsp;</a></span>RTE_PMD_MLX5_HOST_SHAPER_FLAG_AVAIL_THRESH_TRIGGERED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_PMD_MLX5_HOST_SHAPER_FLAG_AVAIL_THRESH_TRIGGERED&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The rate of the host port shaper will be updated directly at the next available descriptor threshold event to the rate that comes with this flag set; set rate 0 to disable this rate update. Unset this flag to update the rate of the host port shaper directly in the API call; use rate 0 to disable the current shaper. </p>

<p class="definition">Definition at line <a class="el" href="rte__pmd__mlx5_8h_source.html#l00126">126</a> of file <a class="el" href="rte__pmd__mlx5_8h_source.html">rte_pmd_mlx5.h</a>.</p>

</div>
</div>
<a id="a8e7ee20b91b612c6e9b572a3116e9540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7ee20b91b612c6e9b572a3116e9540">&#9670;&nbsp;</a></span>RTE_PMD_MLX5_FLOW_ENGINE_FLAG_STANDBY_DUP_INGRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_PMD_MLX5_FLOW_ENGINE_FLAG_STANDBY_DUP_INGRESS&#160;&#160;&#160;<a class="el" href="rte__bitops_8h.html#a37f9af72fe78df9da448d9ded7b051c0">RTE_BIT32</a>(0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When set on the flow engine of a standby process, ingress flow rules will be effective in active and standby processes, so the ingress traffic may be duplicated. </p>

<p class="definition">Definition at line <a class="el" href="rte__pmd__mlx5_8h_source.html#l00176">176</a> of file <a class="el" href="rte__pmd__mlx5_8h_source.html">rte_pmd_mlx5.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ade7773d3c7ea449f061219af84cb8b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7773d3c7ea449f061219af84cb8b37">&#9670;&nbsp;</a></span>rte_pmd_mlx5_get_dyn_flag_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_pmd_mlx5_get_dyn_flag_names </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>names</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the dynamic flags name, that are supported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">names</td><td>Array that is used to return the supported dynamic flags names. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The number of elements in the names array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of dynamic flags that were copied if not negative. Otherwise:<ul>
<li>ENOMEM - not enough entries in the array</li>
<li>EINVAL - invalid array entry </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa35ef883769ddd336c318d55eabb40a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35ef883769ddd336c318d55eabb40a0">&#9670;&nbsp;</a></span>rte_pmd_mlx5_sync_flow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_pmd_mlx5_sync_flow </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>domains</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronize the flows to make them take effort on hardware. It only supports DR flows now. For DV and Verbs flows, there is no need to call this function, and a success will return directly in case of Verbs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port_id</td><td>The port identifier of the Ethernet device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">domains</td><td>Refer to "/usr/include/infiniband/mlx5dv.h". Bitmask of domains in which the synchronization will be done. RTE_PMD_MLX5_DOMAIN_BIT_* macros are used to specify the domains. An ADD or OR operation could be used to synchronize flows in more than one domain per call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>(0) if successful.</li>
<li>Negative value if an error. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a35e4f26b4c650dfb184c42a9b2b4ab39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e4f26b4c650dfb184c42a9b2b4ab39">&#9670;&nbsp;</a></span>rte_pmd_mlx5_external_rx_queue_id_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_pmd_mlx5_external_rx_queue_id_map </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dpdk_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>hw_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update mapping between rte_flow queue index (16 bits) and HW queue index (32 bits) for RxQs which is created outside the PMD.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port_id</td><td>The port identifier of the Ethernet device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dpdk_idx</td><td>Queue index in rte_flow. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hw_idx</td><td>Queue index in hardware.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative errno value otherwise and rte_errno is set. Possible values for rte_errno:<ul>
<li>EEXIST - a mapping with the same rte_flow index already exists.</li>
<li>EINVAL - invalid rte_flow index, out of range.</li>
<li>ENODEV - there is no Ethernet device for this port id.</li>
<li>ENOTSUP - the port doesn't support external RxQ. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a14a92bda6f1086b9d7053d565b12970f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14a92bda6f1086b9d7053d565b12970f">&#9670;&nbsp;</a></span>rte_pmd_mlx5_external_rx_queue_id_unmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_pmd_mlx5_external_rx_queue_id_unmap </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>dpdk_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove mapping between rte_flow queue index (16 bits) and HW queue index (32 bits) for RxQs which is created outside the PMD.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port_id</td><td>The port identifier of the Ethernet device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dpdk_idx</td><td>Queue index in rte_flow.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative errno value otherwise and rte_errno is set. Possible values for rte_errno:<ul>
<li>EINVAL - invalid index, out of range, still referenced or doesn't exist.</li>
<li>ENODEV - there is no Ethernet device for this port id.</li>
<li>ENOTSUP - the port doesn't support external RxQ. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a248b5684e5a345d3ecad1baa7bfa2d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a248b5684e5a345d3ecad1baa7bfa2d7f">&#9670;&nbsp;</a></span>rte_pmd_mlx5_host_shaper_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_pmd_mlx5_host_shaper_config </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure a HW shaper to limit Tx rate for a host port. The configuration will affect all the ethdev ports belonging to the same rte_device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port_id</td><td>The port identifier of the Ethernet device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rate</td><td>Unit is 100Mbps, setting the rate to 0 disables the shaper. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Host shaper flags (see RTE_PMD_MLX5_HOST_SHAPER_FLAG_*). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 : operation success. Otherwise:<ul>
<li>ENOENT - no ibdev interface.</li>
<li>EBUSY - the register access unit is busy.</li>
<li>EIO - the register access command meets IO error. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ac6aeb815e50ba8d10ab8d4124306c622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6aeb815e50ba8d10ab8d4124306c622">&#9670;&nbsp;</a></span>rte_pmd_mlx5_external_sq_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_pmd_mlx5_external_sq_enable </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sq_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable traffic for external SQ.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port_id</td><td>The port identifier of the Ethernet device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sq_num</td><td>SQ HW number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative errno value otherwise and rte_errno is set. Possible values for rte_errno:<ul>
<li>EINVAL - invalid sq_number or port type.</li>
<li>ENODEV - there is no Ethernet device for this port id. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a114cc1f8e678dd00fd07fe1757da94ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a114cc1f8e678dd00fd07fe1757da94ed">&#9670;&nbsp;</a></span>rte_pmd_mlx5_flow_engine_set_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_pmd_mlx5_flow_engine_set_mode </td>
          <td>(</td>
          <td class="paramtype">enum rte_pmd_mlx5_flow_engine_mode&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>Set the flow engine mode of the process to active or standby, affecting network traffic handling.</p>
<p>If one device does not support this operation or fails, the whole operation is failed and rolled back.</p>
<p>It is forbidden to have multiple flow engines with the same mode unless only one of them is configured to handle the traffic.</p>
<p>The application's flow engine is active by default. The configuration from the active flow engine is effective immediately while the configuration from the standby flow engine is queued by hardware. When configuring the device from a standby flow engine, it has no effect except for below situations:</p><ul>
<li>traffic not handled by the active flow engine configuration</li>
<li>no active flow engine</li>
</ul>
<p>When flow engine of a process is changed from a standby to an active mode, all preceding configurations that are queued by hardware should become effective immediately. Before mode transition, all the traffic handling configurations set by the active flow engine should be flushed first.</p>
<p>In summary, the operations are expected to happen in this order in "old" and "new" applications: device: already configured by the old application new: start as active new: probe the same device new: set as standby new: configure the device device: has configurations from old and new applications old: clear its device configuration device: has only 1 configuration from new application new: set as active device: downtime for connecting all to the new application old: shutdown</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>The desired mode (see rte_pmd_mlx5_flow_engine_mode). </td></tr>
    <tr><td class="paramname">flags</td><td>Mode specific flags (see RTE_PMD_MLX5_FLOW_ENGINE_FLAG_*). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Positive value on success, -rte_errno value on error:<ul>
<li>(&gt; 0) Number of switched devices.</li>
<li>(-EINVAL) if error happen and rollback internally.</li>
<li>(-EPERM) if operation failed and can't recover. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
