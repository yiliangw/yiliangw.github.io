<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/table/rte_swx_table_selector.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">23.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9bbe46d096c65f107a2835d407d44cf2.html">table</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_swx_table_selector.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;rte_compat.h&gt;</code><br />
<code>#include &quot;<a class="el" href="rte__swx__table_8h_source.html">rte_swx_table.h</a>&quot;</code><br />
</div>
<p><a href="rte__swx__table__selector_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__swx__table__selector__params.html">rte_swx_table_selector_params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__swx__table__selector__member.html">rte_swx_table_selector_member</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__swx__table__selector__group.html">rte_swx_table_selector_group</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9b5acc85a3f38ed363ac94405978e6dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__selector_8h.html#a9b5acc85a3f38ed363ac94405978e6dd">RTE_TAILQ_HEAD</a> (rte_swx_table_selector_member_list, <a class="el" href="structrte__swx__table__selector__member.html">rte_swx_table_selector_member</a>)</td></tr>
<tr class="separator:a9b5acc85a3f38ed363ac94405978e6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdcdc18dcf1c67ba3b5ea8053690cc9c"><td class="memItemLeft" align="right" valign="top">__rte_experimental uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__selector_8h.html#abdcdc18dcf1c67ba3b5ea8053690cc9c">rte_swx_table_selector_footprint_get</a> (uint32_t n_groups_max, uint32_t n_members_per_group_max)</td></tr>
<tr class="separator:abdcdc18dcf1c67ba3b5ea8053690cc9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f231d69cb5449b93834d48664610f9"><td class="memItemLeft" align="right" valign="top">__rte_experimental uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__selector_8h.html#ab3f231d69cb5449b93834d48664610f9">rte_swx_table_selector_mailbox_size_get</a> (void)</td></tr>
<tr class="separator:ab3f231d69cb5449b93834d48664610f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742dbfde07a74776d6535535fcaa92bb"><td class="memItemLeft" align="right" valign="top">__rte_experimental void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__selector_8h.html#a742dbfde07a74776d6535535fcaa92bb">rte_swx_table_selector_create</a> (struct <a class="el" href="structrte__swx__table__selector__params.html">rte_swx_table_selector_params</a> *params, struct <a class="el" href="structrte__swx__table__selector__group.html">rte_swx_table_selector_group</a> **groups, int numa_node)</td></tr>
<tr class="separator:a742dbfde07a74776d6535535fcaa92bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b7032e44922595269039cb3acf3182"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__selector_8h.html#a62b7032e44922595269039cb3acf3182">rte_swx_table_selector_group_set</a> (void *table, uint32_t group_id, struct <a class="el" href="structrte__swx__table__selector__group.html">rte_swx_table_selector_group</a> *group)</td></tr>
<tr class="separator:a62b7032e44922595269039cb3acf3182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6331bbe46aa464dc8de1cbc6ffefc8"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__selector_8h.html#a6d6331bbe46aa464dc8de1cbc6ffefc8">rte_swx_table_selector_select</a> (void *table, void *mailbox, uint8_t **group_id_buffer, uint8_t **selector_buffer, uint8_t **member_id_buffer)</td></tr>
<tr class="separator:a6d6331bbe46aa464dc8de1cbc6ffefc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a709a20a0fd75ffe42bfeb2b58b1f442f"><td class="memItemLeft" align="right" valign="top">__rte_experimental void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__selector_8h.html#a709a20a0fd75ffe42bfeb2b58b1f442f">rte_swx_table_selector_free</a> (void *table)</td></tr>
<tr class="separator:a709a20a0fd75ffe42bfeb2b58b1f442f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE SWX Selector Table</p>
<p>Selector table interface. </p>

<p class="definition">Definition in file <a class="el" href="rte__swx__table__selector_8h_source.html">rte_swx_table_selector.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9b5acc85a3f38ed363ac94405978e6dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b5acc85a3f38ed363ac94405978e6dd">&#9670;&nbsp;</a></span>RTE_TAILQ_HEAD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTE_TAILQ_HEAD </td>
          <td>(</td>
          <td class="paramtype">rte_swx_table_selector_member_list&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrte__swx__table__selector__member.html">rte_swx_table_selector_member</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of group members. </p>

</div>
</div>
<a id="abdcdc18dcf1c67ba3b5ea8053690cc9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdcdc18dcf1c67ba3b5ea8053690cc9c">&#9670;&nbsp;</a></span>rte_swx_table_selector_footprint_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental uint64_t rte_swx_table_selector_footprint_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n_groups_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n_members_per_group_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selector table memory footprint get</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n_groups_max</td><td>Maximum number of groups. Must be non-zero. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_members_per_group_max</td><td>Maximum number of members per group. Must be non-zero. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Selector table memory footprint in bytes. </dd></dl>

</div>
</div>
<a id="ab3f231d69cb5449b93834d48664610f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f231d69cb5449b93834d48664610f9">&#9670;&nbsp;</a></span>rte_swx_table_selector_mailbox_size_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental uint64_t rte_swx_table_selector_mailbox_size_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selector table mailbox size get</p>
<p>The mailbox is used to store the context of a select operation that is in progress and it is passed as a parameter to the select operation. This allows for multiple concurrent select operations into the same table.</p>
<dl class="section return"><dt>Returns</dt><dd>Selector table mailbox footprint in bytes. </dd></dl>

</div>
</div>
<a id="a742dbfde07a74776d6535535fcaa92bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a742dbfde07a74776d6535535fcaa92bb">&#9670;&nbsp;</a></span>rte_swx_table_selector_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void* rte_swx_table_selector_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__swx__table__selector__params.html">rte_swx_table_selector_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__swx__table__selector__group.html">rte_swx_table_selector_group</a> **&#160;</td>
          <td class="paramname"><em>groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numa_node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selector table create</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Selector table creation parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">groups</td><td>Groups to be added to the table at creation time. When NULL, it signifies that all groups are invalid, otherwise it points to a pre-allocated array of size <em>n_groups_max</em>, where a NULL element indicates that the associated group is invalid. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numa_node</td><td>Non-Uniform Memory Access (NUMA) node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Table handle, on success, or NULL, on error. </dd></dl>

</div>
</div>
<a id="a62b7032e44922595269039cb3acf3182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b7032e44922595269039cb3acf3182">&#9670;&nbsp;</a></span>rte_swx_table_selector_group_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_swx_table_selector_group_set </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>group_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__swx__table__selector__group.html">rte_swx_table_selector_group</a> *&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Group set</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Selector table handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">group_id</td><td>Group ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">group</td><td>Group parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or the following error codes otherwise: -EINVAL: Invalid argument(s); -ENOSPC: Too many group members. </dd></dl>

</div>
</div>
<a id="a6d6331bbe46aa464dc8de1cbc6ffefc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d6331bbe46aa464dc8de1cbc6ffefc8">&#9670;&nbsp;</a></span>rte_swx_table_selector_select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_swx_table_selector_select </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>group_id_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>selector_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>member_id_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selector table select</p>
<p>This operation selects a member from the given group based on a hasing scheme.</p>
<p>Multiple invocations of this function may be required in order to complete a single select operation for a given table and a given group ID. The completion of the operation is flagged by a return value of 1; in case of a return value of 0, the function must be invoked again with exactly the same arguments.</p>
<p>The mailbox argument is used to store the context of each on-going operation. The mailbox mechanism allows for multiple concurrent select operations into the same table.</p>
<p>The typical reason an implementation may choose to split the operation into multiple steps is to hide the latency of the inherent memory read operations: before a read operation with the source data likely not in the CPU cache, the source data prefetch is issued and the operation is postponed in favor of some other unrelated work, which the CPU executes in parallel with the source data being fetched into the CPU cache; later on, the operation is resumed, this time with the source data likely to be read from the CPU cache with no CPU pipeline stall, which significantly improves the operation performance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Selector table handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>Mailbox for the current operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">group_id_buffer</td><td>Buffer where the input group ID is located at offset <em>group_id_offset</em>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">selector_buffer</td><td>Buffer where the key to select a member within the identified group is located starting from offset <em>selector_offset</em>. Its size must be equal to the table <em>selector_size</em>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">member_id_buffer</td><td>Buffer where the output member ID is to be placed at offset <em>member_id_offset</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when the operation is not yet completed, and 1 when the operation is complete. No other return values are allowed. </dd></dl>

</div>
</div>
<a id="a709a20a0fd75ffe42bfeb2b58b1f442f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a709a20a0fd75ffe42bfeb2b58b1f442f">&#9670;&nbsp;</a></span>rte_swx_table_selector_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void rte_swx_table_selector_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selector table free</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Selector table handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
