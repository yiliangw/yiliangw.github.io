<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/table/rte_swx_table_learner.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">23.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9bbe46d096c65f107a2835d407d44cf2.html">table</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_swx_table_learner.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;rte_compat.h&gt;</code><br />
<code>#include &quot;<a class="el" href="rte__swx__hash__func_8h_source.html">rte_swx_hash_func.h</a>&quot;</code><br />
</div>
<p><a href="rte__swx__table__learner_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__swx__table__learner__params.html">rte_swx_table_learner_params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af806aa741d748a3ee938cb1303558270"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#af806aa741d748a3ee938cb1303558270">RTE_SWX_TABLE_LEARNER_N_KEY_TIMEOUTS_MAX</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:af806aa741d748a3ee938cb1303558270"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a25eda23cb788e6ab0aaf6858464233b6"><td class="memItemLeft" align="right" valign="top">__rte_experimental uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#a25eda23cb788e6ab0aaf6858464233b6">rte_swx_table_learner_footprint_get</a> (struct <a class="el" href="structrte__swx__table__learner__params.html">rte_swx_table_learner_params</a> *params)</td></tr>
<tr class="separator:a25eda23cb788e6ab0aaf6858464233b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9abfbfa4a958955e541c2c73e743898"><td class="memItemLeft" align="right" valign="top">__rte_experimental uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#ad9abfbfa4a958955e541c2c73e743898">rte_swx_table_learner_mailbox_size_get</a> (void)</td></tr>
<tr class="separator:ad9abfbfa4a958955e541c2c73e743898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0e29cee91f2148365f8c54d8849d00"><td class="memItemLeft" align="right" valign="top">__rte_experimental void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#a9e0e29cee91f2148365f8c54d8849d00">rte_swx_table_learner_create</a> (struct <a class="el" href="structrte__swx__table__learner__params.html">rte_swx_table_learner_params</a> *params, int numa_node)</td></tr>
<tr class="separator:a9e0e29cee91f2148365f8c54d8849d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecac194538036216f0af0746c55c41dc"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#aecac194538036216f0af0746c55c41dc">rte_swx_table_learner_timeout_update</a> (void *table, uint32_t key_timeout_id, uint32_t key_timeout)</td></tr>
<tr class="separator:aecac194538036216f0af0746c55c41dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4025909cbad6fdd4c1db8eca6ca9b789"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#a4025909cbad6fdd4c1db8eca6ca9b789">rte_swx_table_learner_lookup</a> (void *table, void *mailbox, uint64_t time, uint8_t **key, uint64_t *action_id, uint8_t **action_data, size_t *entry_id, int *hit)</td></tr>
<tr class="separator:a4025909cbad6fdd4c1db8eca6ca9b789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a60127d4a2ddff51fcfd8f2db0a4c60"><td class="memItemLeft" align="right" valign="top">__rte_experimental uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#a1a60127d4a2ddff51fcfd8f2db0a4c60">rte_swx_table_learner_add</a> (void *table, void *mailbox, uint64_t time, uint64_t action_id, uint8_t *action_data, uint32_t key_timeout_id)</td></tr>
<tr class="separator:a1a60127d4a2ddff51fcfd8f2db0a4c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d3b61d9f93b3e6fd221d79e5b15894"><td class="memItemLeft" align="right" valign="top">__rte_experimental void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#af5d3b61d9f93b3e6fd221d79e5b15894">rte_swx_table_learner_rearm</a> (void *table, void *mailbox, uint64_t time)</td></tr>
<tr class="separator:af5d3b61d9f93b3e6fd221d79e5b15894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a07308eee0ac321a63700a74f8f258a"><td class="memItemLeft" align="right" valign="top">__rte_experimental void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#a8a07308eee0ac321a63700a74f8f258a">rte_swx_table_learner_rearm_new</a> (void *table, void *mailbox, uint64_t time, uint32_t key_timeout_id)</td></tr>
<tr class="separator:a8a07308eee0ac321a63700a74f8f258a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb52211d15c00eb857b046c1b5f0081"><td class="memItemLeft" align="right" valign="top">__rte_experimental void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#accb52211d15c00eb857b046c1b5f0081">rte_swx_table_learner_delete</a> (void *table, void *mailbox)</td></tr>
<tr class="separator:accb52211d15c00eb857b046c1b5f0081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee870197f69a64e02554fda623c03b8"><td class="memItemLeft" align="right" valign="top">__rte_experimental void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__swx__table__learner_8h.html#aaee870197f69a64e02554fda623c03b8">rte_swx_table_learner_free</a> (void *table)</td></tr>
<tr class="separator:aaee870197f69a64e02554fda623c03b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE SWX Learner Table</p>
<p>The learner table API.</p>
<p>This table type is typically used for learning or connection tracking, where it allows for the implementation of the "add on miss" scenario: whenever the lookup key is not found in the table (lookup miss), the data plane can decide to add this key to the table with a given action with no control plane intervention. Likewise, the table keys expire based on a configurable timeout and are thus automatically removed from the table with no control plane intervention.</p>
<p>The keys are not automatically rearmed on lookup hit. To delay the key expiration, the key timer has to be explicitly reinitialized on lookup hit. The key will be kept in the table as long as it is frequently hit and explicitly rearmed on every hit.</p>
<p>Operation overview: 1) Lookup miss: a) add: Add the current input key (the key that missed the lookup) to the table with given action, action parameters and expiration timeout. This is the way to populate the table (which is empty initially). Data plane operation. b) Do nothing: Keep the current input key out of the table. 2) Lookup hit: a) add: Update the action, action parameters and/or the expiration timeout for the current input key, which is already in the table. The expiration timer of the key is automatically rearmed. Data plane operation. b) rearm: Rearm the expiration timer for the current input key, which is already in the table. The timeout value used for the expiration timer is either the same as the one currently associated with the key or a new one can be provided as input. Data plane operation. c) delete: Delete the current input key from the table. The purpose of this operation is to force the deletion of the key from the table before the key expires on timeout due to inactivity. Data plane operation. d) Do nothing: Keep the expiration timer of the current input key running down. This key will thus expire naturally, unless it is hit again as part of a subsequent lookup operation, when the key timer can be rearmed or re-added to prolong its life. </p>

<p class="definition">Definition in file <a class="el" href="rte__swx__table__learner_8h_source.html">rte_swx_table_learner.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af806aa741d748a3ee938cb1303558270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af806aa741d748a3ee938cb1303558270">&#9670;&nbsp;</a></span>RTE_SWX_TABLE_LEARNER_N_KEY_TIMEOUTS_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_SWX_TABLE_LEARNER_N_KEY_TIMEOUTS_MAX&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of key timeout values per learner table. </p>

<p class="definition">Definition at line <a class="el" href="rte__swx__table__learner_8h_source.html#l00058">58</a> of file <a class="el" href="rte__swx__table__learner_8h_source.html">rte_swx_table_learner.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a25eda23cb788e6ab0aaf6858464233b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25eda23cb788e6ab0aaf6858464233b6">&#9670;&nbsp;</a></span>rte_swx_table_learner_footprint_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental uint64_t rte_swx_table_learner_footprint_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__swx__table__learner__params.html">rte_swx_table_learner_params</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table memory footprint get</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Table create parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Table memory footprint in bytes. </dd></dl>

</div>
</div>
<a id="ad9abfbfa4a958955e541c2c73e743898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9abfbfa4a958955e541c2c73e743898">&#9670;&nbsp;</a></span>rte_swx_table_learner_mailbox_size_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental uint64_t rte_swx_table_learner_mailbox_size_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table mailbox size get</p>
<p>The mailbox is used to store the context of a lookup operation that is in progress and it is passed as a parameter to the lookup operation. This allows for multiple concurrent lookup operations into the same table.</p>
<dl class="section return"><dt>Returns</dt><dd>Table mailbox footprint in bytes. </dd></dl>

</div>
</div>
<a id="a9e0e29cee91f2148365f8c54d8849d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e0e29cee91f2148365f8c54d8849d00">&#9670;&nbsp;</a></span>rte_swx_table_learner_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void* rte_swx_table_learner_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__swx__table__learner__params.html">rte_swx_table_learner_params</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numa_node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table create</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Table creation parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numa_node</td><td>Non-Uniform Memory Access (NUMA) node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Table handle, on success, or NULL, on error. </dd></dl>

</div>
</div>
<a id="aecac194538036216f0af0746c55c41dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecac194538036216f0af0746c55c41dc">&#9670;&nbsp;</a></span>rte_swx_table_learner_timeout_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_swx_table_learner_timeout_update </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>key_timeout_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>key_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table key timeout update</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_timeout_id</td><td>Key timeout ID. Must be less than the configured <em>n_key_timeouts</em> value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_timeout</td><td>Key timeout value measured in seconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or the following error codes otherwise: -EINVAL: Invalid argument(s). </dd></dl>

</div>
</div>
<a id="a4025909cbad6fdd4c1db8eca6ca9b789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4025909cbad6fdd4c1db8eca6ca9b789">&#9670;&nbsp;</a></span>rte_swx_table_learner_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_swx_table_learner_lookup </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>action_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>action_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>entry_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table key lookup</p>
<p>The table lookup operation searches a given key in the table and upon its completion it returns an indication of whether the key is found in the table (lookup hit) or not (lookup miss). In case of lookup hit, the action_id and the action_data associated with the key are also returned.</p>
<p>Multiple invocations of this function may be required in order to complete a single table lookup operation for a given table and a given lookup key. The completion of the table lookup operation is flagged by a return value of 1; in case of a return value of 0, the function must be invoked again with exactly the same arguments.</p>
<p>The mailbox argument is used to store the context of an on-going table key lookup operation, and possibly an associated key add operation. The mailbox mechanism allows for multiple concurrent table key lookup and add operations into the same table.</p>
<p>The table entry consists of the action ID and the action data. Each table entry is unique, even though different table entries can have identical content, i.e. same values for the action ID and the action data. The table entry ID is also returned by the table lookup operation. It can be used to index into an external array of resources such as counters, registers or meters to identify the resource directly associated with the current table entry with no need to store the corresponding index into the table entry. The index of the external resource is thus auto-generated instead of being stored in the table entry.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>Mailbox for the current table lookup operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time measured in CPU clock cycles. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Lookup key. Its size must be equal to the table <em>key_size</em>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">action_id</td><td>ID of the action associated with the <em>key</em>. Must point to a valid 64-bit variable. Only valid when the function returns 1 and <em>hit</em> is set to true. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">action_data</td><td>Action data for the <em>action_id</em> action. Must point to a valid array of table <em>action_data_size</em> bytes. Only valid when the function returns 1 and <em>hit</em> is set to true. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">entry_id</td><td>Table entry unique ID. Must point to a valid 32-bit variable. Only valid when the function returns 1 and <em>hit</em> is set to true. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hit</td><td>Only valid when the function returns 1. Set to non-zero (true) on table lookup hit and to zero (false) on table lookup miss. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when the table lookup operation is not yet completed, and 1 when the table lookup operation is completed. No other return values are allowed. </dd></dl>

</div>
</div>
<a id="a1a60127d4a2ddff51fcfd8f2db0a4c60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a60127d4a2ddff51fcfd8f2db0a4c60">&#9670;&nbsp;</a></span>rte_swx_table_learner_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental uint32_t rte_swx_table_learner_add </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>action_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>action_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>key_timeout_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table key add</p>
<p>This operation takes the latest key that was looked up in the table and adds it to the table with the given action ID and action data. Typically, this operation is only invoked when the latest lookup operation in the current table resulted in lookup miss.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>Mailbox for the current operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time measured in CPU clock cycles. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">action_id</td><td>ID of the action associated with the key. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">action_data</td><td>Action data for the <em>action_id</em> action. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_timeout_id</td><td>Key timeout ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, 1 or error (table full). </dd></dl>

</div>
</div>
<a id="af5d3b61d9f93b3e6fd221d79e5b15894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d3b61d9f93b3e6fd221d79e5b15894">&#9670;&nbsp;</a></span>rte_swx_table_learner_rearm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void rte_swx_table_learner_rearm </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table key rearm with same timeout value</p>
<p>This operation takes the latest key that was looked up in the table and, in case of lookup hit, it rearms its expiration timer using the same timeout value currently associated with the key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>Mailbox for the current operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time measured in CPU clock cycles. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8a07308eee0ac321a63700a74f8f258a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a07308eee0ac321a63700a74f8f258a">&#9670;&nbsp;</a></span>rte_swx_table_learner_rearm_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void rte_swx_table_learner_rearm_new </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>key_timeout_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table key rearm with given timeout value</p>
<p>This operation takes the latest key that was looked up in the table and, in case of lookup hit, it rearms its expiration timer using the given timeout value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>Mailbox for the current operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time measured in CPU clock cycles. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_timeout_id</td><td>Key timeout ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="accb52211d15c00eb857b046c1b5f0081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accb52211d15c00eb857b046c1b5f0081">&#9670;&nbsp;</a></span>rte_swx_table_learner_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void rte_swx_table_learner_delete </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mailbox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table key delete</p>
<p>This operation takes the latest key that was looked up in the table and deletes it from the table. Typically, this operation is only invoked to force the deletion of the key before the key expires on timeout due to inactivity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>Mailbox for the current operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaee870197f69a64e02554fda623c03b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaee870197f69a64e02554fda623c03b8">&#9670;&nbsp;</a></span>rte_swx_table_learner_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void rte_swx_table_learner_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Learner table free</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
